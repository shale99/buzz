<!--
  Generated template for the QueriesPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar color="primary">
        <ion-title text-center>
            Queries App
        </ion-title>
        <ion-buttons end>
            <button ion-button icon-only (click)="openNewQuery()">
                <ion-icon name="add"></ion-icon>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>


<ion-content>
    <ion-list>
        <ion-item ion-item *ngFor="let item of items" >
            <div style="cursor:pointer;" (click)="toggleDetails(item)">
                <span style="width:100px;"><b>{{ item.question }}</b></span>
                <ion-badge item-end color="{{item.tags[0]}}">{{item.tags[0]}}</ion-badge>
            </div>
            <ion-list *ngIf="item.showDetails">
                <button ion-item *ngFor="let answer of item.answers" (click)="submitVote(item, answer)">
                    <span>{{answer.A}}</span>
                    <span style="float:right;" *ngIf="this.queryAnswers[item.question] == 'true'">{{answer.Count}}</span>
                </button>
            </ion-list>
        </ion-item>
    </ion-list>
</ion-content>
